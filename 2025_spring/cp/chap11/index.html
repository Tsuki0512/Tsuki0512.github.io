
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="wyr">
      
      
        <link rel="canonical" href="https://tsuki0512.github.io/2025_spring/cp/chap11/">
      
      
        <link rel="prev" href="../chap10/">
      
      
        <link rel="next" href="../chap13/">
      
      
      <link rel="icon" href="../../../assets/hzhf.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Register Allocation - wyr's notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#11-register-allocation" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="wyr&#39;s notes" class="md-header__button md-logo" aria-label="wyr's notes" data-md-component="logo">
      
  <img src="../../../assets/hzhf.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            wyr's notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Register Allocation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Tsuki0512/Tsuki0512.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Wyr's Notes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="wyr&#39;s notes" class="md-nav__button md-logo" aria-label="wyr's notes" data-md-component="logo">
      
  <img src="../../../assets/hzhf.jpg" alt="logo">

    </a>
    wyr's notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Tsuki0512/Tsuki0512.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Wyr's Notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    专业课程
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            专业课程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数据结构基础
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            数据结构基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../FDS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    期中前内容
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../FDS2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图论
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../FDS3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    排序
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dip%E5%8E%86%E5%B9%B4%E5%8D%B7%E6%95%B4%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    图像信息处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E9%80%BB%E6%9C%9F%E6%9C%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数字逻辑设计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ADS_%E5%A4%8D%E4%B9%A0%E6%95%B4%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数据库系统
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cheatingsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../minisql%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Minisql分析
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../2024_fall/CA/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    计算机体系结构
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            计算机体系结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CA/final_review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    期末复习
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CA/CA1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机设计基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CA/CA2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    流水线
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CA/CA3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    内存层次
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CA/CA4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    指令级并行
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CA/CA5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DLP和TLP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/OS/final_review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    操作系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../2024_fall/%E8%AE%A1%E7%AE%97%E7%90%86%E8%AE%BA/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    计算理论
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            计算理论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/%E8%AE%A1%E7%AE%97%E7%90%86%E8%AE%BA/Lec1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/%E8%AE%A1%E7%AE%97%E7%90%86%E8%AE%BA/Lec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REX
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2024_fall/CN/CN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    编译原理
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            编译原理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../midterm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    期中梳理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lexical Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parsing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Abstract Syntax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Semantic Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../type_checking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Type Checking (期末梳理版)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap6_for_final/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Activation Record
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap7_for_final/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IR Trees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Blocks and Traces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instruction Selection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Liveness Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Register Allocation
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Register Allocation
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1 图着色算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 图着色算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-interference-graph" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 冲突图 Interference Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 图着色算法概述
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2 简化的着色算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 简化的着色算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-kempe" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Kempe定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 溢出处理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 溢出处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 溢出的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-optimistic-coloring" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 乐观着色 Optimistic Coloring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-actual-spill" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 实际溢出 Actual Spill
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-coalescing" class="md-nav__link">
    <span class="md-ellipsis">
      4 合并 Coalescing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 合并 Coalescing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-conservative-coalescing" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 保守合并 Conservative Coalescing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 集成合并的图着色算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-precolored-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      5 预着色 Precolored Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 预着色 Precolored Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 预着色节点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 调用约定
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6 例子
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Garbage Collection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Object-Oriented Languages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loop Optimizations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    软件工程（学习中）
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            软件工程（学习中）
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../se/final/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    期末刷题记录
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12" >
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    自然语言处理导论（待完善）
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            自然语言处理导论（待完善）
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/DeepLearningBasics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep Learning Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/WordEmbedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Word Embedding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/ConvolutionalNeuralNetworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Convolutional Neural Networks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/RecurrentNeuralNetworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recurrent Neural Networks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/Attention/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Attention
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/NLGAndNMT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NLGandNMT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/Transformer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transformers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数理基础课程资源汇总
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            数理基础课程资源汇总
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    离散数学及其应用
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%BE%AE%E7%A7%AF%E5%88%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    微积分（甲）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%A4%A7%E7%89%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    大学物理（乙）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BA%BF%E4%BB%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    线性代数（甲）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C程序设计基础
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    论文阅读
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            论文阅读
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%A4%9A%E6%A8%A1%E6%80%81/paper%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    多模态大模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    课程心得
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            课程心得
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%80%9A%E8%AF%86%E8%AF%BE%E5%BF%83%E5%BE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    通识课
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%BF%83%E5%BE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数理基础课
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%93%E4%B8%9A%E5%BF%85%E4%BF%AE%E8%AF%BE%E5%BF%83%E5%BE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    专业必修课
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E4%B8%93%E4%B8%9A%E9%80%89%E4%BF%AE%E8%AF%BE%E5%BF%83%E5%BE%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    专业选修课
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%A2%8E%E7%A2%8E%E5%BF%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    一些碎碎念
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    CMU_DeepVision项目记录
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CMU_DeepVision项目记录
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CMU_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    概述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CMU_prelearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    线上课程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../pytorch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pytorch入门
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CMU_DeepVision_0807/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec1 - Transformers and RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CMU_DeepVision_0807_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec2 - Ray Tracing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CMU_DeepVision_0809/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec3 - 3D Vision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CMU_DeepVision_0816/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lec4 - Deep Learning Basics and Adversarial
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1 图着色算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 图着色算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-interference-graph" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 冲突图 Interference Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 图着色算法概述
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2 简化的着色算法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 简化的着色算法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-kempe" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Kempe定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 溢出处理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 溢出处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 溢出的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-optimistic-coloring" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 乐观着色 Optimistic Coloring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-actual-spill" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 实际溢出 Actual Spill
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-coalescing" class="md-nav__link">
    <span class="md-ellipsis">
      4 合并 Coalescing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 合并 Coalescing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-conservative-coalescing" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 保守合并 Conservative Coalescing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 集成合并的图着色算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-precolored-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      5 预着色 Precolored Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 预着色 Precolored Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 预着色节点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 调用约定
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6 例子
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="11-register-allocation">11 Register Allocation 寄存器分配<a class="headerlink" href="#11-register-allocation" title="Permanent link">&para;</a></h1>
<p>参考资料：</p>
<ul>
<li>姚培森老师2024~2025学年春夏ch11ppt</li>
<li><a href="https://shiseab.github.io/notebook/Compiler/ch11/">wcjj的笔记</a></li>
<li><a href="https://docs.google.com/document/d/1IP_Gj_iWpSZcCbsURjPri4wgXa10j5oCh_ZdpM4sFJc/edit?usp=sharing">伟大的Gemini 2.5 pro deep research</a></li>
</ul>
<hr />
<p>将理论上无限的临时变量，有效地映射到实际上非常有限的物理寄存器集合中。</p>
<p>目标：</p>
<ul>
<li>映射临时变量到寄存器</li>
<li>保持程序语义</li>
<li>优化性能</li>
</ul>
<h2 id="1">1 图着色算法<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11-interference-graph">1.1 冲突图 Interference Graph<a class="headerlink" href="#11-interference-graph" title="Permanent link">&para;</a></h3>
<p><strong>冲突图定义</strong></p>
<p>它是一个无向图，我们通常表示为<span class="arithmatex">\(G=(V,E)\)</span></p>
<ul>
<li>节点 (Nodes <span class="arithmatex">\(V\)</span>)：图中的每一个节点代表程序中的一个临时变量（temporary variable）或者说虚拟寄存器（virtual register）</li>
<li>边 (Edges <span class="arithmatex">\(E\)</span>)：图中的边表示临时变量之间的“冲突”关系。如果两个临时变量 <code>a</code> 和 <code>b</code> 在程序的某个（或某些）执行点上<strong>同时活跃</strong>（live at the same time），那么在代表它们各自的节点之间连接一条无向边<span class="arithmatex">\((a,b)\)</span></li>
<li>节点的颜色则代表了为它分配的物理寄存器</li>
</ul>
<p>如果两个临时变量（节点）在冲突图中有边相连，那么它们就不能被分配到同一个物理寄存器中。</p>
<p><strong>冲突图构建</strong></p>
<p>构建冲突图的算法思路是遍历程序的每一条指令，并根据该指令执行后的活跃变量信息（即 <code>out</code> 集合）来添加冲突边。</p>
<ul>
<li>规则1：如果指令 <code>n</code> <strong>不是</strong>一条传送指令（MOVE instruction，形如 <code>a := c</code>），那么，对于<span class="arithmatex">\(L_{out}[n]\)</span>（在指令 <code>n</code> 执行完毕<strong>之后</strong>的活跃变量集合）中的每一个变量<span class="arithmatex">\(b_i\)</span>（其中<span class="arithmatex">\(b_i\neq a\)</span>），我们都需要在冲突图中添加一条边<span class="arithmatex">\((a,b_i)\)</span>
    例子：
    <img alt="image-20250608194326984" src="../chap11.assets/image-20250608194326984.png" /></li>
<li>规则2：如果指令<code>n</code>是一条MOVE指令<code>a := c</code>，对于<span class="arithmatex">\(L_{out}[n]\)</span>中的每一个变量<span class="arithmatex">\(b_k\)</span>，如果<span class="arithmatex">\(b_k\)</span>不等于源变量<span class="arithmatex">\(c\)</span> (即<span class="arithmatex">\(b_k\neq c\)</span>)，则在冲突图中添加一条边<span class="arithmatex">\((a,b_k)\)</span><ul>
<li>我们通常情况下不为<span class="arithmatex">\((a,c)\)</span>添加冲突边，因为它们包含相同的值，这样可以为消除不必要的复制指令（MOVE合并）变成可能</li>
<li>但如果在<code>a := c</code>这条MOVE指令之后，变量<code>c</code>仍然是活跃的，并且在稍后的程序中，变量<code>a</code>被一条<strong>非MOVE指令</strong>重新定义了（例如，<code>a := x + y</code>），那么在这个新的 <code>a</code> 的定义点，新产生的 <code>a</code> 的生命周期就可能与 <code>c</code>（它从MOVE指令开始的生命周期）发生重叠。在这种情况下，就需要为这个（新的）<code>a</code> 和 <code>c</code> 添加冲突边。</li>
<li><img alt="image-20250608195330799" src="../chap11.assets/image-20250608195330799.png" />
    上图的左边不需要为<code>(t, s)</code>添加冲突边，右图需要。</li>
</ul>
</li>
</ul>
<h3 id="12">1.2 图着色算法概述<a class="headerlink" href="#12" title="Permanent link">&para;</a></h3>
<ul>
<li>如果我们拥有<span class="arithmatex">\(K\)</span>个可用的物理寄存器，那么寄存器分配问题就等价于一个经典的图论问题：<strong>K-着色问题（K-Coloring Problem）</strong>。即，我们能否用最多<span class="arithmatex">\(K\)</span>种不同的颜色来为该冲突图的所有节点着色，同时满足上述相邻节点颜色不同的约束 。<ul>
<li>寻找给<span class="arithmatex">\(G\)</span>着色所需的最少颜色数量 - NP-Hard</li>
<li>判定是否可以使用<span class="arithmatex">\(K\)</span>种颜色着色 - NP-Complete</li>
<li>因此，我们主要采用<strong>启发式算法（heuristic algorithms）</strong>来寻找一个可行的、足够好的近似解</li>
</ul>
</li>
</ul>
<h2 id="2">2 简化的着色算法<a class="headerlink" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="21-kempe">2.1 Kempe定理<a class="headerlink" href="#21-kempe" title="Permanent link">&para;</a></h3>
<p>如果一个图<span class="arithmatex">\(G\)</span>包含一个节点<span class="arithmatex">\(n\)</span>，该节点<span class="arithmatex">\(n\)</span>的度数严格小于<span class="arithmatex">\(K\)</span> (即<span class="arithmatex">\(degree(n)&lt;K\)</span>)，并且假设通过移除节点<span class="arithmatex">\(n\)</span>及其所有关联边后得到的子图<span class="arithmatex">\(G′=G−\{n\}\)</span>是<span class="arithmatex">\(K\)</span>-可着色的，那么原始图<span class="arithmatex">\(G\)</span>本身也是<span class="arithmatex">\(K\)</span>-可着色的。</p>
<p>利用这个定理的思路：如果图中存在度数小于<span class="arithmatex">\(K\)</span>的节点，我们可以暂时将它们从图中移除，因为它们总是“容易着色”的。这自然地引出了一种基于栈的迭代移除和反向着色算法。</p>
<h3 id="22">2.2 算法<a class="headerlink" href="#22" title="Permanent link">&para;</a></h3>
<p><img alt="image-20250608203315242" src="../chap11.assets/image-20250608203315242.png" /></p>
<ol>
<li>构建：根据上述两个规则构建冲突图</li>
<li>简化：<ul>
<li>当图 <code>G</code> 中存在度数小于 <code>K</code> 的节点 <code>N</code> 时，将其从 <code>G</code> 中移除，并将其推入栈 <code>S</code>；</li>
<li>重复此过程直到图 <code>G</code> 中所有节点的度数都大于等于 <code>K</code>，或者图为空：<ul>
<li>图为空代表这张图是可以<span class="arithmatex">\(K\)</span> - 着色的</li>
<li>如果图 <code>G</code> 中所有节点的度数都大于等于 <code>K</code>，那么无法继续移除节点，我们需要讨论如何通过“溢出”处理</li>
</ul>
</li>
</ul>
</li>
<li>选择：当简化阶段的图为空的时候，可以按照简化阶段移除节点的<strong>逆序</strong>，将被移除的节点逐个加回到图中，并为它们分配合适的颜色</li>
</ol>
<p><strong>该算法只是一个可能失败的快速启发式，当失败时，并不意味着图不是K-可着色的。</strong></p>
<h2 id="3">3 溢出处理<a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 溢出的定义<a class="headerlink" href="#31" title="Permanent link">&para;</a></h3>
<p>选择冲突图中的一个或多个节点（即临时变量），不再为它们分配物理寄存器，而是将它们的值存储到主存储器中（通常是在当前函数的栈帧内）。</p>
<p>当需要读取这些溢出变量的值时，编译器会生成指令从内存中将其加载（load）到一个临时占用的寄存器中；当这些溢出变量的值被修改后，编译器会生成指令将其存储（store）回内存中。</p>
<p>溢出的内存读取代价往往很大，因此我们会尽可能去避免溢出操作。</p>
<h3 id="32-optimistic-coloring">3.2 乐观着色 Optimistic Coloring<a class="headerlink" href="#32-optimistic-coloring" title="Permanent link">&para;</a></h3>
<p>核心思想：在简化阶段卡住时，与其过早地决定溢出一个高度数节点，不如先“乐观地”假设它最终能够被着色，然后继续处理图的其余部分。</p>
<p><img alt="image-20250608213124882" src="../chap11.assets/image-20250608213124882.png" /></p>
<ol>
<li><strong>标记潜在溢出 (Mark Potential Spill)：</strong>当简化阶段卡住（所有剩余节点度数 ≥ <span class="arithmatex">\(K\)</span>）时，根据某种启发式规则选择一个节点<span class="arithmatex">\(v_{spill}\)</span>作为“潜在溢出（potential spill）”的候选者 。</li>
<li><strong>继续简化：</strong> 将这个被标记为潜在溢出的节点<span class="arithmatex">\(v_{spill}\)</span>从冲突图中移除，并像处理低度数节点一样将其压入简化栈<span class="arithmatex">\(S\)</span>中。然后，尝试继续对剩余的图进行简化操作。</li>
<li><strong>选择阶段的检验：</strong>当所有节点（包括那些被标记为潜在溢出的节点）都被压入栈 S 并且图变为空后，进入选择阶段。当之前被标记为潜在溢出的节点<span class="arithmatex">\(v_{spill}\)</span>从栈中弹出准备着色时，算法会检查其所有邻居节点实际使用的颜色情况。<ul>
<li><strong>乐观成功</strong>：如果<span class="arithmatex">\(v_{spill}\)</span>的邻居们所使用的不同颜色的数量严格小于<span class="arithmatex">\(K\)</span>，那么<span class="arithmatex">\(v_{spill}\)</span>就可以被成功着色。这种情况下，该节点实际上并不需要溢出。</li>
<li><strong>乐观失败（需要实际溢出）：</strong> 如果<span class="arithmatex">\(v_{spill}\)</span>的所有<span class="arithmatex">\(K\)</span>种可用颜色都已经被它的邻居们占用了，那么乐观的假设就失败了。此时，节点<span class="arithmatex">\(v_{spill}\)</span>无法被分配到一个物理寄存器，它必须进行<strong>实际溢出（actual spill）</strong>。</li>
</ul>
</li>
</ol>
<h3 id="33-actual-spill">3.3 实际溢出 Actual Spill<a class="headerlink" href="#33-actual-spill" title="Permanent link">&para;</a></h3>
<p><img alt="image-20250608213921815" src="../chap11.assets/image-20250608213921815.png" /></p>
<ol>
<li>detect actual apills: 根据spill优先级（后面会讨论）寻找优先级最低的变量溢出，编译器为其分配一个内存存储空间，这个位置通常位于当前函数的活动记录（activation record）或栈帧（stack frame）中。假设溢出的变量是<span class="arithmatex">\(b\)</span>，我们将这个内存地址称为<span class="arithmatex">\(b_a\)</span>。</li>
<li>代码改写：在每个使用<span class="arithmatex">\(b\)</span>的操作之前，插入<span class="arithmatex">\(b_i:=load\text{ } b_a\)</span>；在每个定义 <code>b</code> 的操作之后，插入 store <span class="arithmatex">\(b_i,b_a\)</span>。而<span class="arithmatex">\(b_i\)</span>（每次下标不一样）就是一个全新的、生命周期极短的临时变量。</li>
<li>重新进行活跃变量分析、构建冲突图并且执行着色算法，直至最终所有未被溢出的临时变量都能成功分配到物理寄存器。</li>
</ol>
<p>例子：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="na">...</span>
<span class="nf">c</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">r3</span><span class="w">          </span><span class="c1">// c is defined</span>
<span class="na">...</span>
<span class="na">...</span><span class="w"> </span><span class="err">=</span><span class="no">...</span><span class="w"> </span><span class="no">c...</span><span class="w"> </span><span class="c1">// c is used</span>
<span class="na">...</span>
<span class="nf">r3</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">c</span><span class="w">          </span><span class="c1">// c is used</span>
<span class="na">...</span>
</code></pre></div></td></tr></table></div>
<p>假设变量<span class="arithmatex">\(c\)</span>被选为实际溢出：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="na">...</span>
<span class="nf">c1</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">r3</span><span class="w">         </span><span class="c1">// New temp c1 holds the value for c</span>
<span class="nf">M</span><span class="p">[</span><span class="no">cloc</span><span class="p">]</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">c1</span><span class="w">    </span><span class="c1">// Store c&#39;s value to memory location cloc</span>
<span class="na">...</span>
<span class="nf">c2</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">M</span><span class="p">[</span><span class="no">cloc</span><span class="p">]</span><span class="w">    </span><span class="c1">// Load c&#39;s value from memory into new temp c2</span>
<span class="na">...</span><span class="w"> </span><span class="err">=</span><span class="no">...</span><span class="w"> </span><span class="no">c2...</span><span class="c1">// Use the loaded value</span>
<span class="na">...</span>
<span class="nf">c3</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">M</span><span class="p">[</span><span class="no">cloc</span><span class="p">]</span><span class="w">    </span><span class="c1">// Load c&#39;s value again if needed</span>
<span class="nf">r3</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="no">c3</span><span class="w">         </span><span class="c1">// Use the loaded value</span>
<span class="na">...</span>
</code></pre></div></td></tr></table></div>
<h2 id="4-coalescing">4 合并 Coalescing<a class="headerlink" href="#4-coalescing" title="Permanent link">&para;</a></h2>
<h3 id="41">4.1 定义<a class="headerlink" href="#41" title="Permanent link">&para;</a></h3>
<p>定义：给定一条MOVE指令 <code>MOVE t2, t1</code>，如果临时变量<code>t1</code>（源）和<code>t2</code>（目标）在冲突图中<strong>不直接冲突</strong>，那么我们就可以考虑将它们<strong>合并</strong> 。合并的操作意味着：  </p>
<ol>
<li>这条MOVE指令 <code>MOVE t2, t1</code> 可以从程序中被<strong>消除</strong>。</li>
<li>在冲突图中，节点<code>t1</code>和节点<code>t2</code>被合并成一个<strong>单一的新节点</strong>。这个新的合并节点将继承原先<code>t1</code>和<code>t2</code>各自所有的冲突邻居的并集。</li>
</ol>
<p>优点：消除冗余指令、可能改善图的可着色性</p>
<p>风险：可能增加冲突边的数量，并使图不可着色</p>
<p><img alt="image-20250608220508622" src="../chap11.assets/image-20250608220508622.png" /></p>
<p>ppt的例子，但是不是很好（可以通过乐观着色解决），举一个更一般化的风险场景：</p>
<ul>
<li>假设<span class="arithmatex">\(K\)</span>=3，节点<code>a</code>的邻居是<code>{x, y}</code> (<span class="arithmatex">\(degree(a)=2&lt;K\)</span>)，节点<code>b</code>的邻居是<code>{y, z}</code> (<span class="arithmatex">\(degree(b)=2&lt;K\)</span>)，<code>a</code>和<code>b</code>之间没有冲突。存在MOVE <code>a,b</code>。如果合并<code>a</code>和<code>b</code>得到<code>ab</code>，那么<code>ab</code>的邻居将是<code>{x, y, z}</code> (<span class="arithmatex">\(degree(ab)=3=K\)</span>)。</li>
<li>在这个例子中，两个原本可以被轻松简化的低度数节点，在合并后变成了一个度数等于<span class="arithmatex">\(K\)</span>的节点。这个新节点<code>ab</code>不再能通过简单的度数小于<span class="arithmatex">\(K\)</span>的规则被简化。</li>
</ul>
<h3 id="42-conservative-coalescing">4.2 保守合并 Conservative Coalescing<a class="headerlink" href="#42-conservative-coalescing" title="Permanent link">&para;</a></h3>
<p><strong>只在合并操作被认为是“安全”的时候才执行它</strong>。“安全”通常意味着合并不会增加图中高度数节点的数量，或者至少不会将一个原本<span class="arithmatex">\(K\)</span>-可着色的图转变为一个不再<span class="arithmatex">\(K\)</span>-可着色的图，从而避免引入新的溢出。</p>
<p>两种准则：</p>
<ul>
<li><strong>Briggs 准则 (Briggs Criterion)：</strong>假设要合并因MOVE指令 <code>MOVE a,b</code> 而关联的两个不直接冲突的节点<code>a</code>和<code>b</code>。可以执行合并，如果合并后形成的新节点<code>ab</code>，其所有邻居中，度数显著（significant degree）的节点（即度数<span class="arithmatex">\(≥K\)</span>的节点）的数量严格小于<span class="arithmatex">\(K\)</span>。</li>
<li><strong>George 准则 (George Criterion)：</strong>假设要合并节点<code>a</code>和<code>b</code>。可以执行合并，如果对于节点<code>a</code>（或对称地，对于节点<code>b</code>）的<strong>每一个邻居 <code>t</code></strong>，都满足以下两个条件之一：<ol>
<li>邻居<code>t</code> <strong>已与</strong>节点<code>b</code>冲突（即图中已存在边<code>(t,b)</code>）。</li>
<li>邻居<code>t</code>的度数<strong>不显著</strong>（即<span class="arithmatex">\(degree(t)&lt;K\)</span>）。</li>
</ol>
</li>
</ul>
<h3 id="43">4.3 集成合并的图着色算法<a class="headerlink" href="#43" title="Permanent link">&para;</a></h3>
<p><img alt="image-20250608222847327" src="../chap11.assets/image-20250608222847327.png" /></p>
<p>freeze：如果图中既没有节点可以被简化，也没有不冲突或者安全的move可以合并，我们会查找图中是否存在一个<strong>MOVE相关</strong>的节点<code>u</code>，并且这个节点<code>u</code>本身的度数是低的（即<span class="arithmatex">\(degree(u)&lt;K\)</span>）。如果找到这样的节点<code>u</code>：</p>
<ul>
<li>算法决定<strong>放弃</strong>与节点 <code>u</code>相关的所有MOVE指令的合并机会，节点<code>u</code>被视为可简化的节点。</li>
</ul>
<p>例子：<strong>Constrained Moves</strong> - 由于 move 指令的 src 和 dest 结点是互相干扰的，导致无法合并。</p>
<p><img alt="image-20250608223638020" src="../chap11.assets/image-20250608223638020.png" /></p>
<p>此时将<code>(y,z)</code>的move关系冻结。</p>
<h2 id="5-precolored-nodes">5 预着色 Precolored Nodes<a class="headerlink" href="#5-precolored-nodes" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1 预着色节点<a class="headerlink" href="#51" title="Permanent link">&para;</a></h3>
<p>预着色节点是冲突图中的一类特殊节点，它们直接代表机器硬件中的<strong>物理寄存器</strong> 。</p>
<p>需求来源：</p>
<p><img alt="image-20250609135846235" src="../chap11.assets/image-20250609135846235.png" /></p>
<p>属性：</p>
<ul>
<li><strong>相互冲突：</strong> 假设机器有<span class="arithmatex">\(K\)</span>个物理寄存器，那么代表这<span class="arithmatex">\(K\)</span>个不同物理寄存器的<span class="arithmatex">\(K\)</span>个预着色节点在冲突图中被认为是两两相互冲突，即它们构成一个 <span class="arithmatex">\(K\)</span>-完全子图（<span class="arithmatex">\(K\)</span>-clique）</li>
<li><strong>不可简化：</strong> 在图着色算法的“简化”阶段，预着色节点永远不能被移除。</li>
<li><strong>不可溢出：</strong> 预着色节点（物理寄存器）本身不能被“溢出”到内存。</li>
</ul>
<p>处理方法：</p>
<ol>
<li>构建冲突图阶段：为每一个物理寄存器创建一个预着色节点，将它们的冲突边（构成的<span class="arithmatex">\(K\)</span>-clique）加入图中，而预着色节点和非预着色节点之间的冲突关系遵循最开始提到的两条规则；</li>
<li>简化阶段：只简化非预着色节点；</li>
<li>选择阶段：按照冲突图关系正常着色；</li>
<li>当图中只剩下预着色节点时，分配过程（一轮）结束。</li>
</ol>
<p>合并：</p>
<ul>
<li>通常含预着色节点的合并使用<strong>George准则</strong>进行保守合并的判断，不含预着色节点的合并使用<strong>Briggs准则</strong>进行保守合并的判断</li>
<li>尽量缩短这些物理寄存器作为固定用途的生命周期，如果其生命周期较长，可以考虑人为缩短：在需要该值的起点，用一条MOVE指令将其从物理寄存器复制到一个新的临时变量中；在后续代码中使用这个临时变量；当不再需要该值或者需要将其写回原物理寄存器时，再用一条MOVE指令将其从临时变量复制回物理寄存器。</li>
</ul>
<h3 id="52">5.2 调用约定<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>寄存器类型 (Register Type)</th>
<th>特点 (Characteristic)</th>
<th>编译器处理方式 (Compiler Handling during Reg Alloc)</th>
<th>倾向于分配给… (Tends to be Allocated to...)</th>
</tr>
</thead>
<tbody>
<tr>
<td>调用者保存 (Caller-Save)</td>
<td>被调用者可随意修改；调用者若需其值则自己保存恢复</td>
<td><code>CALL</code>指令被认为隐式定义（破坏）所有调用者保存寄存器，因此与跨调用活跃的临时变量产生冲突</td>
<td>不跨越函数调用的变量 (Variables NOT live across calls)</td>
</tr>
<tr>
<td>被调用者保存 (Callee-Save)</td>
<td>被调用者若使用，必须在函数入口保存其值，在函数出口恢复</td>
<td>通常在函数入口将值从物理寄存器移至新临时变量，函数体内用该临时变量，出口处再从临时变量移回物理寄存器。新临时变量参与图着色分配</td>
<td>跨越函数调用的变量 (Variables live across calls)</td>
</tr>
</tbody>
</table>
<h2 id="6">6 例子<a class="headerlink" href="#6" title="Permanent link">&para;</a></h2>
<p>ppt2的p39开始的例子可以过一遍（Google文档也有解析）。值得参考的spill优先级：</p>
<p><span class="arithmatex">\(\text{SpillPriority} = \frac{(\text{uses}_\text{outside\_loop} + \text{defs}_\text{outside\_loop} + n \times (\text{uses}_\text{inside\_loop} + \text{defs}_\text{inside\_loop}))}{\text{degree}}\)</span></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>